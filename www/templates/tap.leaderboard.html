<ion-view>
    <ion-nav-title>Leaderboard - {{tap.name}}</ion-nav-title>
    <ion-content class="has-tabs">
        <ion-refresher pulling-text="Pull to refresh..." on-refresh="refresh()"></ion-refresher>
        <div class="list">
            <div class="item no-color">
                <div class="item item-divider">
                    <strong>Today</strong>
                </div>
                <a ui-sref="app.profile({userName: pour.userName})" ng-repeat="pour in leaderboard" class="item item-text-wrap leaderboard-item">
                    <div class="leaderboard-info clearfix">
                        <div class="pull-left">
                          <strong class="leaderboard-rank pull-left">{{$index + 1}}.</strong>
                          <img
                            brewskey-img
                            class="default-profile-small leaderboard-profile-pic"
                            id="pour.userName"
                            params="cache={{cacheBuster}}"
                            type="photo"
                            height="50"
                            width="50"
                            load-fail="img/blank-profile-40.png" />
                        </div>
                        <div class="leaderboard-content">
                            <strong>{{pour.userName}}</strong>
                            &nbsp;&mdash;&nbsp;
                            {{normalize(pour.totalOunces)}} oz
                            <br />
                            <span>Most recent </span>
                            <em><time ng-bind="timeAgo(pour.lastPourDate)"></time></em>
                        </div>
                    </div>
                    <pint-list count="pour.totalOunces" class="pint-list leaderboard-pint-list clearfix" />
                </a>
                <div class="item" ng-if="leaderboard && leaderboard.length === 0">
                    <h2>No pours today!</h2>
                </div>
            </div>
            <div class="item no-color">
                <div class="item item-divider">
                    <strong>Current Keg</strong>
                </div>
                <a ui-sref="app.profile({userName: pour.userName})" ng-repeat="pour in kegLeaderboard" class="item item-text-wrap leaderboard-item">
                    <div class="leaderboard-info clearfix">
                        <div class="pull-left">
                          <strong class="leaderboard-rank pull-left">{{$index + 1}}.</strong>
                          <img
                            brewskey-img
                            class="default-profile-small leaderboard-profile-pic"
                            id="pour.userName"
                            params="cache={{cacheBuster}}"
                            type="photo"
                            height="50"
                            width="50"
                            load-fail="img/blank-profile-40.png" />
                        </div>
                        <div class="leaderboard-content">
                            <strong>{{pour.userName}}</strong>
                            &nbsp;&ndash;&nbsp;
                            {{normalize(pour.totalOunces)}} oz
                            <br />
                            <span>Most recent </span><em><time ng-bind="timeAgo(pour.lastPourDate)"></time></em>
                        </div>
                    </div>
                    <pint-list count="pour.totalOunces" class="pint-list leaderboard-pint-list clearfix" />
                </a>
                <div class="item" ng-if="currentKeg && currentKeg.length === 0">
                    <h2>No pours!</h2>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
