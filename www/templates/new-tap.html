<ion-view view-title="Tappt">
    <ion-nav-title>{{!model.id ? "New Tap" : "Edit Tap"}}</ion-nav-title>
    <ion-content>
        <form name="form" ng-submit="submitForm()" novalidate>
            <div class="list">
                <div class="form-errors" ng-if="errorDescription" data-ng-cloak>
                    <div class="form-error" ng-bind="errorDescription"></div>
                </div>
                <div class="list list-inset">
                    <label class="item item-input" ng-class="{ 'has-error' : form.name.$invalid || errors['model.Name']}">
                        <input type="text" ng-model="model.name" placeholder="Name" required>
                    </label>
                    <div class="form-errors" data-ng-repeat="error in errors['model.Name']" data-ng-cloak>
                        <div class="form-error" ng-bind="error"></div>
                    </div>

                    <label class="item item-input" ng-class="{ 'has-error' : form.friendlyName.$invalid || errors['model.Name']}">
                        <input type="text" ng-model="model.friendlyName" placeholder="Friendly Name" required>
                    </label>
                    <div class="form-errors" data-ng-repeat="error in errors['model.FriendlyName']" data-ng-cloak>
                        <div class="form-error" ng-bind="error"></div>
                    </div>

                    <label class="item item-input" ng-class="{ 'has-error' : form.communicationKey.$invalid || errors['model.CommunicationKey']}">
                        <input type="text" ng-model="model.communicationKey" placeholder="Spark Key" required>
                    </label>
                    <div class="form-errors" data-ng-repeat="error in errors['model.CommunicationKey']" data-ng-cloak>
                        <div class="form-error" ng-bind="error"></div>
                    </div>
                    <label class="item">
                        <button class="button button-block button-positive" type="submit" ng-disabled="form.$invalid">
                            <span ng-if="!model.id">Create Tap</span>
                            <span ng-if="model.id">Update Tap</span>
                        </button>
                    </label>
                </div>
            </div>
        </form>
        <keg-modify tap-id="model.id" keg="model.currentKeg" />
    </ion-content>
</ion-view>
